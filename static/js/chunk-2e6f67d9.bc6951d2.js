(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e6f67d9"],{"0085":function(e,t,o){},"13cd":function(e,t,o){"use strict";o("2113")},2113:function(e,t,o){},"70cc":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),r=Object(n["createTextVNode"])(" 热区组件，通过给图片画区域，然后用户点击不同区域跳转到不同的页面 ");function a(e,t,o,a,c,i){var s=Object(n["resolveComponent"])("layout-view-header"),l=Object(n["resolveComponent"])("ImageHotSpots"),d=Object(n["resolveComponent"])("el-col"),u=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[r]})),_:1}),Object(n["createVNode"])(u,{type:"flex",gutter:"20"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{span:10},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:a.hotSpots,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.hotSpots=e}),test:a.test,"onUpdate:test":t[2]||(t[2]=function(e){return a.test=e})},null,8,["modelValue","test"])]})),_:1}),Object(n["createVNode"])(d,{span:14},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(" 热区预览 "+Object(n["toDisplayString"])(a.hotSpots)+" "+Object(n["toDisplayString"])(a.test),1)]})),_:1})]})),_:1})])}var c=Object(n["withScopeId"])("data-v-0f3e9d7d");Object(n["pushScopeId"])("data-v-0f3e9d7d");var i={class:"image-hot-spots"},s={class:"container"},l={class:"image-config"},d=Object(n["createTextVNode"])("添加热区");Object(n["popScopeId"])();var u=c((function(e,t,o,r,a,u){var f=Object(n["resolveComponent"])("Area"),h=Object(n["resolveComponent"])("el-button"),p=Object(n["resolveComponent"])("el-form-item"),m=Object(n["resolveComponent"])("el-input"),b=Object(n["resolveComponent"])("el-form");return Object(n["openBlock"])(),Object(n["createBlock"])("div",i,[Object(n["createVNode"])("div",s,[Object(n["createVNode"])("img",{ref:"img",class:"cover",ondragstart:"return false;",oncontextmenu:"return false;",onselect:"document.selection.empty();",src:a.modelValue.src,onMousedown:t[1]||(t[1]=Object(n["withModifiers"])((function(e){return u.dragStart(e)}),["left","stop"])),onMouseup:t[2]||(t[2]=Object(n["withModifiers"])((function(e){return u.dragEnd(e)}),["left","stop"]))},null,40,["src"]),Object(n["withDirectives"])(Object(n["createVNode"])("div",{class:"area",style:{width:a.w+"px",height:a.h+"px",left:a.x+"px",top:a.y+"px"}},null,4),[[n["vShow"],a.dragging]]),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.modelValue.area,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(f,{id:t,key:t,area:e,onRemove:u.removeArea},null,8,["id","area","onRemove"])})),128))]),Object(n["createVNode"])("div",l,[Object(n["createVNode"])(b,{model:a.modelValue,"label-width":"80px",ref:"imageForm","label-position":"left"},{default:c((function(){return[Object(n["createVNode"])(p,null,{default:c((function(){return[Object(n["createVNode"])(h,{type:"primary",onClick:Object(n["withModifiers"])(u.addArea,["prevent"])},{default:c((function(){return[d]})),_:1},8,["onClick"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.modelValue.area,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(p,{label:"热区".concat(t+1),key:t,prop:"area."+t+".href",rules:[{required:!0,message:"该热区未填写跳转链接",trigger:["blur","change"]},{type:"url",message:"请填写正确的跳转连接",trigger:["blur","change"]}]},{default:c((function(){return[Object(n["createVNode"])(m,{modelValue:e.href,"onUpdate:modelValue":function(t){return e.href=t},placeholder:"请输入热区跳转链接"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label","prop"])})),128))]})),_:1},8,["model"])])])})),f=(o("a434"),o("5530")),h=Object(n["withScopeId"])("data-v-1c119313"),p=h((function(e,t,o,r,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"area area-box",style:{left:o.area.x+"px",top:o.area.y+"px",width:o.area.w+"px",height:o.area.h+"px"},onMousedown:t[4]||(t[4]=Object(n["withModifiers"])((function(e){return c.dragStart(e)}),["left","stop"])),onMouseup:t[5]||(t[5]=Object(n["withModifiers"])((function(e){return c.dragEnd(e)}),["left","stop"]))},[Object(n["createTextVNode"])(" 热区"+Object(n["toDisplayString"])(o.id+1)+" ",1),Object(n["createVNode"])("div",{class:"shape",onMousedown:t[1]||(t[1]=Object(n["withModifiers"])((function(e){return c.shapeStart(e)}),["left","stop"])),onMouseup:t[2]||(t[2]=Object(n["withModifiers"])((function(e){return c.shapeEnd(e)}),["left","stop"]))},null,32),Object(n["createVNode"])("i",{class:"el-icon-circle-close",onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(e){return c.remove()}),["stop"]))})],36)})),m=(o("a9e3"),{name:"Area",props:{area:{type:Object,default:function(){}},id:{type:Number,default:null}},methods:{dragStart:function(e){var t=this;if(this.starX=e.clientX,this.starY=e.clientY,!document.onmousemove){var o=this.area.x,n=this.area.y;document.onmousemove=function(e){t.area.x=o+e.clientX-t.starX,t.area.y=n+e.clientY-t.starY}}},dragEnd:function(e){document.onmousemove=null},shapeStart:function(e){var t=this;if(this.star1X=e.clientX,this.star1Y=e.clientY,!document.onmousemove){var o=this.area.w,n=this.area.h;document.onmousemove=function(e){t.area.w=o+e.clientX-t.star1X,t.area.h=n+e.clientY-t.star1Y}}},shapeEnd:function(e){document.onmousemove=null},remove:function(){this.$emit("remove",this.id)}}});o("c445");m.render=p,m.__scopeId="data-v-1c119313";var b=m,j={name:"HotSpots",components:{Area:b},data:function(){return{dragging:!1,x:0,y:0,w:0,h:0,modelValue:{src:"https://p0.meituan.net/dptakeaway/3f5df28ef6e650edb2d0798c9329095362197.jpg",href:"",type:0,area:[]}}},created:function(){},mounted:function(){this.$attrs.test="ddd",console.log(this.$attrs.test)},methods:{dragStart:function(e){var t=this;this.dragging=!0,this.x=e.layerX,this.y=e.layerY,document.onmousemove||(document.onmousemove=function(e){t.w=e.layerX-t.x,t.h=e.layerY-t.y})},dragEnd:function(e){if(document.onmousemove=null,this.dragging&&this.w>15&&this.h>15){var t={x:this.x,y:this.y,w:this.w,h:this.h};this.addArea(t)}this.dragging=!1,this.x=0,this.y=0,this.w=0,this.h=0},addArea:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.modelValue.area,o=void 0===t?[]:t;if(o.length>4)this.$message.error("1个图片最多只能添加5个热区");else{var n=window.getComputedStyle(this.$refs.img,""),r=parseInt(n.width),a=Object(f["a"])({x:0,y:0,w:50,h:50,originImageWidth:r,href:"",target:"_self"},e);o.push(a)}},removeArea:function(e){var t=this.modelValue.area;this.$confirm("确定删除热区".concat(e+1,"吗？"),"提示").then((function(o){t.splice(e,1)}))}}};o("13cd");j.render=u,j.__scopeId="data-v-0f3e9d7d";var O=j,g={name:"stest",components:{ImageHotSpots:O},setup:function(){return{hotSpots:{},test:"123"}},mounted:function(){}};g.render=a;t["default"]=g},a434:function(e,t,o){"use strict";var n=o("23e7"),r=o("23cb"),a=o("a691"),c=o("50c4"),i=o("7b0b"),s=o("65f0"),l=o("8418"),d=o("1dde"),u=o("ae40"),f=d("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,b=9007199254740991,j="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var o,n,d,u,f,h,O=i(this),g=c(O.length),v=r(e,g),w=arguments.length;if(0===w?o=n=0:1===w?(o=0,n=g-v):(o=w-2,n=m(p(a(t),0),g-v)),g+o-n>b)throw TypeError(j);for(d=s(O,n),u=0;u<n;u++)f=v+u,f in O&&l(d,u,O[f]);if(d.length=n,o<n){for(u=v;u<g-n;u++)f=u+n,h=u+o,f in O?O[h]=O[f]:delete O[h];for(u=g;u>g-n+o;u--)delete O[u-1]}else if(o>n)for(u=g-n;u>v;u--)f=u+n-1,h=u+o-1,f in O?O[h]=O[f]:delete O[h];for(u=0;u<o;u++)O[u+v]=arguments[u+2];return O.length=g-n+o,d}})},c445:function(e,t,o){"use strict";o("0085")}}]);